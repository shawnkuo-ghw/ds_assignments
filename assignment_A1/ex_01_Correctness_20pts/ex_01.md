# Exercise 1: Correctness [20 points]

## 1. Specification for `REVERSE_SEQUENCE`

**Pc :** |A| = n && n % 2 = 0 && i = 0

**inv :** 0 <= i <= n/2 && REV(A[0, ..., i-1], A'[n-i, ..., n-1]) && REV(A[n-i, ..., n-1], A'[0, ..., i]-1) && 

A[i, ..., n-1-i] = A'[i, ..., n-1-i]

**Qc :** i = n/2 && REV(A, B)

## 2. Correctness Proof

1. **Initialization :** From pc, i = 0, then 0 <= i. 

    



## 3. Handling Sequences of odd length

Yes!

The first two parts(initialization and maintenance) remain unchanged.

We need to update the termination part : assume Inv&&(not B) , we want to show that Qc holds.

.....

Since when i = n/2, the loop stops which means that A_0[n/2: n-1-n/2] = A[n/2: n-1-n/2].

Since n is odd, when i = n/2, n-1-i = i = n/2. Then we can get A_0[n/2: n-1-n/2] = A_0[n/2] (similar for A).

Then A_0[n/2] = A[n/2].

REV(A_0[ : n/2-1], A[n/2 : ]) && REV(A_0[n/2 : ], A[ : n/2-1]) && A_0[n/2] = A[n/2]

By the properties of REV(A, B), we can get REV(A_0, A).



